<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Vehicle Control Unit (VCU): CAN Servizi</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Vehicle Control Unit (VCU)
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="_c_a_n.html">CAN Networks</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">CAN Servizi </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>CAN servizi network arises from the need to digitize all those signals necessary for the operation of the car. VCU master node is interested to receive pedals position percentage values, APPS and brake plausibility from frontal SCU, and torque request limiter from TCU.</p>
<p>A CANbus communication protocol has been developed based on the CANopen specifications (CiA 301). Each slave node can be represented by a finite state machine with the following states: Initialisation, Pre-operational, Operational, Stopped. During power-up each node is in the Initialization phase. At the end of this phase, it attempts to send a boot-up message. As soon as it has been successfully sent, it is placed in the Pre-operational state. Using an NMT master message, the VCU can passes the various slave nodes between the different Pre-operational, Operational and Stopped states.</p>
<h2>VCU master on power up sequence</h2>
<ol type="1">
<li><b>wait for BOOT-UP message from slave nodes</b> (from frontal SCU and TCU) <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">COB-ID (11bits)  </th><th class="markdownTableHeadCenter">data byte 0   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">0x700 + NODE-ID  </td><td class="markdownTableBodyCenter">0x00   </td></tr>
</table>
</li>
<li><b>send NMT 'go Operational'</b> (broadcast) <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">COB-ID (11bits)  </th><th class="markdownTableHeadCenter">data byte 0  </th><th class="markdownTableHeadCenter">data byte 1   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">0x000  </td><td class="markdownTableBodyCenter">0x01  </td><td class="markdownTableBodyCenter">0x00   </td></tr>
</table>
</li>
</ol>
<h2>Fault Tolerance</h2>
<p>If failure of CAN servizi network occurs, redundancy has been introduced in the acquisition of pedals: if PDO with the pedal data are not received within a certain timeout then CAN servizi network is considered non-functional and pedal sensors are acquired directly via analog signals from the VCU. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Jul 7 2018 20:14:36 for Vehicle Control Unit (VCU) by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
