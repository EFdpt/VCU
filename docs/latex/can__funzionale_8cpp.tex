\hypertarget{can__funzionale_8cpp}{}\section{can\+\_\+funzionale.\+cpp File Reference}
\label{can__funzionale_8cpp}\index{can\+\_\+funzionale.\+cpp@{can\+\_\+funzionale.\+cpp}}


C\+AN funzionale module implementation.  


{\ttfamily \#include \char`\"{}can\+\_\+funzionale.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}def.\+h\char`\"{}}\newline
{\ttfamily \#include $<$due\+\_\+can.\+h$>$}\newline
{\ttfamily \#include $<$Due\+Timer.\+h$>$}\newline
Include dependency graph for can\+\_\+funzionale.\+cpp\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{can__funzionale_8cpp__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
volatile bool \mbox{\hyperlink{group___c_a_n__funzionale__group_gaf1acdfa5537f47656edd6ffa3e7c24bd}{can\+\_\+funzionale\+\_\+initialized}} ()
\begin{DoxyCompactList}\small\item\em This function returns C\+AN funzionale initialization status. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___c_a_n__funzionale__group_gac93bbbf1b84f1bc82b26d54d7f898172}{can\+\_\+funzionale\+\_\+send\+\_\+sync}} ()
\begin{DoxyCompactList}\small\item\em This function sends a periodic C\+A\+N\+Open sync message to inverter slave node. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___c_a_n__funzionale__group_gaf4990e00c0c4a9f9eeb9cb5bdaecfa94}{C\+A\+N\+\_\+\+F\+U\+N\+Z\+\_\+\+B\+O\+O\+T\+U\+P\+\_\+\+CB}} (C\+A\+N\+\_\+\+F\+R\+A\+ME $\ast$frame)
\begin{DoxyCompactList}\small\item\em This function manage boot-\/up message sent over C\+AN funzionale network by inverter slave node. Upon boot-\/up message reception the V\+CU send a S\+DO client request for check inverter vendor ID; then inverter is considered online over C\+AN funzionale network. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___c_a_n__funzionale__group_ga81bbc4c65d579febfbcae399f0ecbffc}{C\+A\+N\+\_\+\+F\+U\+N\+Z\+\_\+\+V\+E\+N\+D\+O\+R\+\_\+\+I\+D\+\_\+\+CB}} (C\+A\+N\+\_\+\+F\+R\+A\+ME $\ast$frame)
\begin{DoxyCompactList}\small\item\em This function manage S\+DO server response with inverter Vendor ID. V\+CU sends N\+MT operational and P\+D\+Os to enable P\+WM; then inverter is considered correctly configured and a timer is started for sending periodic sync messages. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___c_a_n__funzionale__group_ga1fcfa8e31cfbfe2461328c345b5b8e19}{C\+A\+N\+\_\+\+F\+U\+N\+Z\+\_\+\+G\+E\+N\+E\+R\+A\+L\+\_\+\+CB}} (C\+A\+N\+\_\+\+F\+R\+A\+ME $\ast$frame)
\begin{DoxyCompactList}\small\item\em This function manage T\+P\+DO from inverter and deserializes data\+: \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{group___c_a_n__funzionale__group_ga578b28192b0c78942fcc0452d070accb}{can\+\_\+funzionale\+\_\+init}} ()
\begin{DoxyCompactList}\small\item\em This function initialize C\+AN funzionale hardware port with baudrate \mbox{\hyperlink{common_8h_adee7e3800c996a5a977034531d94570d}{C\+A\+N\+\_\+\+F\+U\+N\+Z\+\_\+\+B\+A\+U\+D\+R\+A\+TE}}. Mailbox 0 is configured for receiving boot-\/up messages from inverter slave node (filter = 0x00000700 + \mbox{\hyperlink{group___c_a_n__funzionale__group_ga59ea82aec4abe07072cbdad555a8c1b9}{I\+N\+V\+E\+R\+T\+E\+R\+\_\+\+N\+O\+D\+E\+\_\+\+ID}}, mask = 0x1\+F\+F\+F\+F\+F\+FF); mailbox 1 is configured for receiving vendor\+ID S\+DO response from inverter (filter = 0x00000580 + \mbox{\hyperlink{group___c_a_n__funzionale__group_ga59ea82aec4abe07072cbdad555a8c1b9}{I\+N\+V\+E\+R\+T\+E\+R\+\_\+\+N\+O\+D\+E\+\_\+\+ID}}, mask = 0x1\+F\+F\+F\+F\+F\+FF); remaining mailboxes are configured for receiving T\+P\+D\+Os from inverter slave node (filter = 0x00000080, mask = 0x1\+F\+F\+F\+F\+C\+FF). \end{DoxyCompactList}\item 
volatile bool \mbox{\hyperlink{group___c_a_n__funzionale__group_ga7d74fd826c5df3b86fd751f91c61671f}{can\+\_\+funzionale\+\_\+online}} ()
\begin{DoxyCompactList}\small\item\em This function returns if inverter is online and active over C\+AN funzionale. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___c_a_n__funzionale__group_ga41854ab275f2b3cb7efb9385502d7d65}{inverter\+\_\+torque\+\_\+request}} (uint16\+\_\+t torque)
\begin{DoxyCompactList}\small\item\em This function send torque request to inverter. If inverter is active over C\+AN funzionale network then the request is done via R\+P\+D\+O1 viceversa it\textquotesingle{}s done via analog signal. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___c_a_n__funzionale__group_ga75820e0d72b7f264a70d99f414745518}{inverter\+\_\+regen\+\_\+request}} (uint16\+\_\+t regen)
\begin{DoxyCompactList}\small\item\em This function send regen request to inverter. \end{DoxyCompactList}\item 
volatile uint16\+\_\+t \mbox{\hyperlink{group___c_a_n__funzionale__group_ga3c4828f57a818b8e1b2f277c2174b5da}{get\+\_\+torque\+\_\+actual\+\_\+value}} ()
\begin{DoxyCompactList}\small\item\em This function return the torque value requested by inverter to motor retrieved from T\+P\+D\+O1 from inverter over C\+AN funzionale network. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
volatile bool \mbox{\hyperlink{group___c_a_n__funzionale__group_ga8cd40fe9b965184307fe5886fcef6236}{can\+\_\+funz\+\_\+initialized}} = false
\begin{DoxyCompactList}\small\item\em C\+AN funzionale initialization status flag (true if initialized) \end{DoxyCompactList}\item 
volatile bool \mbox{\hyperlink{group___c_a_n__funzionale__group_ga392f688b1edd69f29b48818a5b9b19ae}{inverter\+\_\+online}} = false
\begin{DoxyCompactList}\small\item\em Inverter online status flag (true if online) \end{DoxyCompactList}\item 
volatile bool \mbox{\hyperlink{group___c_a_n__funzionale__group_ga979fff19d884e9a83eecc2309b36ad0c}{inverter\+\_\+configured}} = false
\begin{DoxyCompactList}\small\item\em Inverter configured status flag (true if configured) \end{DoxyCompactList}\item 
volatile uint16\+\_\+t \mbox{\hyperlink{group___c_a_n__funzionale__group_ga99ead1878913db87bc7cc808a8392e21}{torque\+\_\+actual\+\_\+value}} = 0
\begin{DoxyCompactList}\small\item\em Torque requested by inverter to motor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
C\+AN funzionale module implementation. 

\begin{DoxyAuthor}{Author}
Arella Matteo ~\newline
 (mail\+: \href{mailto:arella.1646983@studenti.uniroma1.it}{\tt arella.\+1646983@studenti.\+uniroma1.\+it}) 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2018 
\end{DoxyDate}
